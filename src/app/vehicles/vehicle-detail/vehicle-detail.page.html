<ion-header>
  <ion-toolbar>
    
    
    <ion-title>{{vehicle.manufacturer}}, {{vehicle.modelName}}</ion-title>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/vehicles"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  
    <ion-grid>
      
      <ion-row>
        <ion-col size='12' size-sm='8' offset-sm='2' text-center>
          <ion-card>
          <ion-img [src]='vehicle.imgUrl'></ion-img>
        </ion-card>
        </ion-col>
      </ion-row>

      <ion-row>  
          <ion-col>
            <!-- <ion-item text-center> -->
              <ion-label>Production year: <b>{{vehicle.yearOfProduction}}</b></ion-label>
            <!-- </ion-item> -->
           </ion-col>
          <ion-col>
            <!-- <ion-item text-center> -->
              <ion-label style="float: right;">Price: <b>{{vehicle.price | currency: 'EUR'}}</b></ion-label>
            <!-- </ion-item> -->
          </ion-col>
      </ion-row>
      <ion-row>
            <ion-item text-center>
              <ion-label>Available from: <b>{{vehicle.availableFrom | date: 'shortDate'}}</b></ion-label>
            </ion-item>
          
            <ion-item style="display: block;">
              <ion-label>Contact: <b>{{vehicle.owner.email}}</b></ion-label>
            </ion-item>
          
          <ion-item style="display: block;">
            <ion-text>Description: {{vehicle.desc}}</ion-text>
          </ion-item>
      </ion-row>
          <ion-row>
            <ion-col>

              <ion-card style="font-size: larger;">
                <ion-card-header>
                  <ion-icon name="person-circle-outline"></ion-icon>
                  About owner</ion-card-header>
                <ion-card-subtitle>More about user who created this offer...</ion-card-subtitle>
                <ion-card-content>
                  <p>First name: <b>{{vehicle.owner.firstName}}</b></p>
                  <p>Last name:<b>{{vehicle.owner.lastName}}</b> </p>
                  <p>Email: {{vehicle.owner.email}}</p>
                  <p>Phone: {{vehicle.owner.contact}}</p>
                </ion-card-content>
              </ion-card>

          </ion-col>

          </ion-row>
          <ion-row>
          <ion-label><b>REVIEWS</b></ion-label>
          <p *ngIf='vehicle.reviews.length === 0'>No reviews added yet.</p>
          
            <ion-list *ngIf='vehicle.reviews.length > 0'>
              <ion-item *ngFor='let l of vehicle.reviews'>
                <ion-card style="background-color: azure;">
                  <ion-label>{{l.creator.firstName}} {{l.creator.lastName}} </ion-label>
                  <ion-label>RATE: <b>{{l.rate}} at: ( {{l.date | date: 'shortDate'}} ) </b></ion-label>
                  <p><i>{{l.comment}}</i></p>
                  <p>Estimated value: <b>{{l.estimatedPrice | currency: 'EUR'}}</b></p>
                </ion-card>
              </ion-item>
            </ion-list>  
            <ion-button type='button' color='accent' (click)='goToAuth()' style="margin: 0 auto;
            display: block;background-color: black;" *ngIf='!userLoggedIn'>
              Login to add review
            </ion-button>  
          <ion-button type='button' color='primary' (click)='onAddReview(vehicle)' style="margin: 0 auto;
          display: block;" *ngIf='userLoggedIn'>Add review 
          <ion-icon name="thumbs-up-outline"></ion-icon></ion-button>   
             
      
      </ion-row> 
    </ion-grid>
</ion-content>

